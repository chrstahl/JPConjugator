<link rel="stylesheet" type="text/css" href="card.css" />

<div class="card">
  <div id="meaning" style="color:#569cd7" ></div>
  <br>
  <div id="question"  style="color:#569cd7"></div>
  <input type="button" name="answer" value="Show Div" onclick="showDiv()" />
  <div id ="answer" style="font-size:40px; color:#4ecab0; display:none;"></div>
  <input type="button" name="answer" value="Next" onclick="window.location.reload()" />

</div>

<script>
var vocabulary = [{
"dictionary_form": "<ruby>食<rt>た</rt></ruby>べる",
"part_of_speech": "verb",
"type": "る",
"meaning": "To eat"
},
{
"dictionary_form": "<ruby>飲<rt>の</rt></ruby>む",
"part_of_speech": "verb",
"type": "う",
"meaning": "To drink"
}]

var conjugation = ["Present", "Negative", "Past", "Past Negative"];   
var random_conjugation = conjugation[Math.floor(Math.random() * conjugation.length)];
var random_vocabulary = vocabulary[Math.floor(Math.random() * vocabulary.length)];

var meaning = random_vocabulary['meaning'];
var type = random_vocabulary['type'];
var dictionary_form = random_vocabulary['dictionary_form'];
var last_char = dictionary_form.substr(-1);

document.getElementById("question").innerTex = random_conjugation;
document.getElementById("meaning").innerText = meaning;

if(random_vocabulary['part_of_speech'] = "verb"){
  
    if(type == "う"){
      if(random_conjugation == "Negative"){ //Negative
        if(last_char == "う"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "いません"
        }else if(last_char == "つ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ちません"
        }else if(last_char == "る"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "りません"
        }else if(last_char == "む"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "みません";
        }else if(last_char == "ぶ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "びません"
        }else if(last_char == "ぬ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "にません"
        }else if(last_char == "く"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "きません"
        }else if(last_char == "ぐ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ぎません"
        }else{ //す
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "しません"
        }
      }else if(random_conjugation == "Past Negative"){
        if(last_char == "う"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "いませんでした"
        }else if(last_char == "つ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ちませんでした"
        }else if(last_char == "る"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "りませんでした"
        }else if(last_char == "む"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "みませんでした"
        }else if(last_char == "ぶ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "びませんでした"
        }else if(last_char == "ぬ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "にませんでした"
        }else if(last_char == "く"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "きませんでした"
        }else if(last_char == "ぐ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ぎませんでした"
        }else{ //す
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "しませんでした"
        }
      }else if(random_conjugation == "Past"){
        if(last_char == "う"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "いました"
        }else if(last_char == "つ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ちました"
        }else if(last_char == "る"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "りました"
        }else if(last_char == "む"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "みました"
        }else if(last_char == "ぶ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "びました"
        }else if(last_char == "ぬ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "にました"
        }else if(last_char == "く"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "きました"
        }else if(last_char == "ぐ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ぎました"
        }else{ //す
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "しました"
        }
      }else{ // Present
        if(last_char == "う"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "います"
        }else if(last_char == "つ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ちます"
        }else if(last_char == "る"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ります"
        }else if(last_char == "む"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "みます"
        }else if(last_char == "ぶ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "びます"
        }else if(last_char == "ぬ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "にます"
        }else if(last_char == "く"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "きます"
        }else if(last_char == "ぐ"){
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ぎます"
        }else{ //す
          document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "します"
        }
      }
    }else if(type == "る"){
      if(random_conjugation == "Negative"){ //Negative
        document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ません";
      }else if(random_conjugation == "Past Negative"){
        document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ませんでした";
      }else if(random_conjugation == "Past"){
        document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ました";
      }else{ // Present
        document.getElementById("answer").innerHTML = dictionary_form.slice(0,-1) + "ます";
      }
    }else{ //irregular
      if(last_char == "する"){
        if(random_conjugation == "Negative"){ //Negative
        document.getElementById("type").innerHTML = verb.slice(0,-1) + "しません"
      }else if(random_conjugation == "Past Negative"){
        document.getElementById("type").innerHTML = verb.slice(0,-1) + "しませんでした"
      }else if(random_conjugation == "Past"){
        document.getElementById("type").innerHTML = verb.slice(0,-1) + "しました"
      }else{ // Present
        document.getElementById("type").innerHTML = verb.slice(0,-1) + "します"
      }
      }else{　//くる
        if(random_conjugation== "Negative"){ //Negative
          document.getElementById("type").innerHTML = verb.slice(0,-1) + "きません"
        }else if(random_conjugation == "Past Negative"){
          document.getElementById("type").innerHTML = verb.slice(0,-1) + "きませんでした"
        }else if(random_conjugation == "Past"){
          document.getElementById("type").innerHTML = verb.slice(0,-1) + "きました"
        }else{ // Present
          document.getElementById("type").innerHTML = verb.slice(0,-1) + "きます"
        }
      }
    }
    
    function showDiv() {
   		document.getElementById('answer').style.display = "block";
	}
  }
</script>
